---
title: 規劃用戶端安全性
description: 規劃用戶端安全性
author: dansimp
ms.assetid: 4840a60f-4c91-489c-ad0b-6671882abf9b
ms.reviewer: ''
manager: dansimp
ms.author: dansimp
ms.pagetype: mdop, appcompat, virtualization
ms.mktglfcycl: deploy
ms.sitesec: library
ms.prod: w10
ms.date: 08/30/2016
ms.openlocfilehash: e0038f7cbc8592d6c7fcdfa485111da88c17791d
ms.sourcegitcommit: 354664bc527d93f80687cd2eba70d1eea024c7c3
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 06/26/2020
ms.locfileid: "10800918"
---
# 規劃用戶端安全性


App-v 用戶端提供數個舊版產品中不存在的安全性增強功能。 這些變更可在安裝之後及日後設定用戶端設定時提供改良的安全性。 本主題說明其中一些增強功能，並指出您在規劃程式期間應考慮的幾個重要安全相關設定設定。 請務必記住，虛擬應用程式仍是可執行檔，因此您必須確保這些資產無法受到未經授權的人員篡改。 基於這個原因，開啟的軟體描述項（OSD）檔案快取會受到保護，如本主題稍後所述，我們強烈建議您使用 RTSPS、HTTPS 及 IPsec 來保護髮布和資料流程。

## App-V 用戶端安全性


根據預設，在安裝時，App-v 用戶端會設定為允許使用者執行發佈更新及啟動應用程式所需的最低許可權。 App-V 用戶端提供的其他安全性增強功能包括下列各項：

-   根據預設，OSD 檔案快取只能由系統管理員更新，而是使用發佈重新整理程式。

-   記錄檔（sftlog.txt）只有擁有用戶端的本機系統管理存取權的帳戶才能存取。

-   記錄檔現在有最大大小。

### 檔案類型關聯

根據預設，安裝用戶端會為 OSD 檔案註冊檔案類型關聯（FTAs），讓使用者可以直接從 OSD 檔案啟動應用程式，而不是已發佈的快速鍵。 如果擁有本機系統管理員許可權的使用者收到包含惡意程式碼的 OSD 檔案（無論是透過電子郵件或從網站下載），使用者可以開啟 OSD 檔案並啟動應用程式，即使用戶端已設定為限制 [**新增應用程式**] 許可權。 您可以取消註冊 OSD 的 FTAs，以減少此風險。 此外，請考慮在電子郵件系統和防火牆封鎖此延伸。 如需設定 Outlook 封鎖延伸的詳細資訊，請參閱 <https://go.microsoft.com/fwlink/?LinkId=133278> 。

**安全性注意事項：**

從應用程式-V 版本4.6 開始，在新安裝用戶端期間，就不會再為 OSD 檔案建立檔案類型關聯，不過在從 App-v 用戶端的版本4.2 或4.5 升級期間，現有的設定將會保留。 如果由於任何原因必須建立檔案類型關聯，您可以建立下列登錄機碼並設定其值，如下所示：

    Create HKEY\_CLASSES\_ROOT\\.osd with a default value of SoftGrid.osd.File

    Under HKEY\_LOCAL\_MACHINE\\software\\classes\\Softgrid.osd.file, create a string value named AppUserModelID with a data value of Microsoft.AppV.Client.Tray

### 授權

在安裝期間，您可以使用**RequireAuthorizationIfCached**參數來設定用戶端在使用者嘗試啟動應用程式時需要來自伺服器的授權。 您應該小心地考慮如何設定此參數。 如果 App-v 伺服器由於任何原因而無法使用，應用程式將會使用此參數最近儲存的狀態來控制使用者對應用程式的存取權。 如果使用者在 App-v 伺服器無法使用前沒有成功啟動應用程式，則在它們可以與伺服器通訊並接收授權之前，將無法啟動該應用程式。 不過，如果您將參數設定為用戶端不需要授權，且伺服器無法使用，則所有先前快取的應用程式都可以啟動（無論是否已獲授權）。 此外，如果使用者有權透過許可權將用戶端變更為 [離線] 模式，或者如果使用者是本機管理員，則使用者可以開啟所有快取的套件，就像 App-v 基礎結構無法使用一樣。

### 防病毒掃描

在 App-V 用戶端電腦上執行的防毒軟體可以在虛擬環境中偵測並報告感染病毒的檔案。 不過，它無法殺毒檔案。 如果在虛擬環境中偵測到病毒，防毒軟體將會在快取中執行已設定的隔離或修復作業，而不是在實際的套件中執行。 針對 sftfs 檔案設定防毒軟體，並提供例外狀況。 此檔案是將套件儲存在 App-v 用戶端的快取檔案。

**安全性注意事項：**

如果在生產環境中部署的應用程式或套件中偵測到病毒，請以無病毒版本取代應用程式或套件。

## 用戶端與伺服器之間的通訊


發佈更新及套件資料流程也是與用戶端伺服器通訊相關的安全性考慮的區域。

### 發佈更新

當用戶端與伺服器通訊以執行發佈重新整理時，它會使用已登入使用者的認證來要求應用程式套件的相關資訊。 您應該保護在 App V 用戶端與 App-v 管理伺服器之間發生的通訊，以確保任何發佈資訊都無法在傳輸中受到篡改。 這是使用 [增強安全性] 選項完成，這會使用 RTSPS/HTTPS。 在用戶端與 [.ICO] 和 [OSD] 檔案儲存位置之間的通訊，應該使用 IPsec 來取得 SMB/CIFS 共用和 HTTPS （適用于 IIS 伺服器）。

**記事** 如果您使用 IIS 來發佈 .ICO 和 OSD 檔案，請設定 OSD = TXT 的 MIME 類型;否則，IIS 將拒絕將 .ICO 和 OSD 檔案提供給用戶端。

 

### 套件資料流程

當使用者第一次啟動應用程式時，或者如果在用戶端上已設定自動載入參數，應用程式套件會從伺服器流向用戶端快取。 這個程式支援 RTSP/RTSPS、HTTP/HTTPS 及 SMB/CIFS 通訊協定。 除非用戶端上已設定**ApplicationSourceRoot**或**OverrideURL**設定，否則 OSD 檔案就會控制所使用的通訊協定。 您應該設定與 SMB/CIFS 的 RTSPS、HTTPS 或 IPsec 進行通訊，以達到較高的安全性。 如需有關如何選擇要使用哪種通訊方法的詳細資訊，請參閱 App V 規劃與部署指南 <https://go.microsoft.com/fwlink/?LinkId=122063> 。

**記事** 如果您使用 IIS 發佈套件（SFT 檔案），請針對 SFT = Binary 設定 MIME 類型;否則，IIS 將拒絕將 SFT 檔案提供給用戶端。

 

### 漫遊設定檔與資料夾重新導向

App-v 系統會將使用者特定的變更儲存至 usrvol \ _sftfs \ _v1 installer.pkg 檔案中的套件。 此檔案位於使用者設定檔的 [應用程式資料] 資料夾中。 因為設定檔或重新導向的應用程式資料檔案夾是在用戶端與伺服器之間傳輸，所以請使用 IPsec 來保護通訊。

## 面向網際網路的用戶端注意事項


對於面向網際網路的用戶端，請務必考慮用戶端是否已加入網域或未加入網域。

### 網域加入用戶端

根據預設，App-v 用戶端會使用 Active Directory 網域服務在內部網路上進行驗證和授權所頒發的 Kerberos 票證。 這些 Kerberos 票證預設有效期為10小時。 只要票證有效，用戶端就會使用此票證存取 App-v server，即使電腦無法連線至網網域控制站以重新整理票證也一樣。 如果 Kerberos 票證到期，應用程式-V 用戶端將會還原為 NTLM 驗證，並使用使用者的快取認證。

### 非網域加入的用戶端

如果使用者是家用的，且電腦未加入公司網域，App-v 仍可支援提供應用程式。 若要驗證及授權使用者執行發佈重新整理並啟動應用程式，請設定用戶端電腦上的使用者帳戶，以儲存可存取 app-v 環境的使用者名稱和密碼，並提供應用程式的適當許可權。

## 相關主題


[規劃安全性與保護](planning-for-security-and-protection.md)

 

 





